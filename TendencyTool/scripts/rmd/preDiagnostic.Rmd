---
title: "Diagnostic des données"
author: "Mathilde Vimont"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: html_document
params:
  data: ""
  sp: ""
  interestVar: ""
  fixedEffects: ""
  randomEffects: ""
  factorVariables: ""
---

```{r setup, include=FALSE}
library(knitr)
library(flexdashboard)
knitr::opts_chunk$set(echo = TRUE)

sp <- params$sp
data <- params$data
fixedEffects <- params$fixedEffects
randomEffects <- params$randomEffects
factorVariables <- params$factorVariables
```

On veut savoir quelle est la tendance d’évolution de l’abondance de l’espèce **_`r sp`_** sur les dernières années **(`r min(data$year)`-`r max(data$year)`)** i.e, si cette espèce voit son abondance augmenter, diminuer ou rester stable. <br>

La métrique que vous avez choisie pour représenter cette abondance est : **`r interestVar`**

```{r control, echo=FALSE}
effects <- c(fixedEffects, randomEffects)
effects <- effects[effects != "year"]
```

Pour étudier cette tendance, il est nécessaire de prendre en compte tout un ensemble de paramètres qui pourraient aussi jouer sur l’abondance (ex : localisation) ou indirectement sur la perception d’abondance de cette espèce (ex : type de protocole, conditions météorologiques, type d’outil, …). <br>

Les variables que vous avez choisies pour faire ce contrôle sont : **`r effects`**

# 1. Chiffres clés 

```{r echo=FALSE}
valueBox(45, "abondance moyenne", icon = "fa-train", color = "#8D5E2A")
```

# 1. Répartition temporelle

```{r echo=FALSE}
source(paste0(scrDir, "functions/tempDistrPlot.R"))
tempDistrPlot(data, interestVar)
```

# 2. Répartition spatiale

```{r echo=FALSE}

```